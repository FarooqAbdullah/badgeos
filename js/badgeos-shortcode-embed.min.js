!function(e){function t(){var t=n(),o=function(t,n){var o="[";if(o+=t,n){for(i=0;i<n.length;i++)o+=" "+n[i];e.trim(o)}return o+="]"}(t,function(t){var n=[],o=function(t){return e(".text, .select","#"+t+"_wrapper")}(t);return e.each(o,function(t,o){if(""!==o.value&&void 0!==o.value){if(e(this).hasClass("select2-hidden-accessible")){var a=e(o).select2("data"),s=[];return e.each(a,function(e,t){s.push(t.id)}),n.push(o.name+'="'+s+'"'),n}return n.push(o.name+'="'+o.value+'"'),n}}),n}(t));window.send_to_editor(o)}function n(){return e("#select_shortcode").val()}e("#select_shortcode").on("change",function(){var t;e(".shortcode-section").hide(),t=n(),e("#"+t+"_wrapper").show()}).change(),e("#badgeos_insert").on("click",function(e){e.preventDefault(),t()}),e("#badgeos_cancel").on("click",function(e){e.preventDefault(),tb_remove()}),e("#insert_badgeos_shortcodes").on("click",function(t){var n=e(".select2-container");e.each(n,function(t,n){e(n).val("")})});var o={dataType:"json",ajax:{url:ajaxurl,type:"POST",data:function(e){return{q:e=e._type?key=e.term?e.term:"":e,action:"get-achievements-select2"}},processResults:function(t){var n=t.data,o=[];return n&&e.each(n,function(e,t){o.push({id:t.ID,text:t.post_title})}),{results:o}}},language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.id_placeholder,allowClear:!0,multiple:!1},a=e.extend(!0,{},o,{multiple:!0});function s(t){setTimeout(function(){var n=t.attr("data-width");e(".badgeos-shortcode-thickbox").width(n);var o=e(".badgeos-shortcode-thickbox").height();e(".badgeos-shortcode-thickbox #TB_ajaxContent").width(n-30).height(o-50),e(".badgeos-shortcode-thickbox .wrap").width(n-50).height(o-50)},0)}e("#badgeos_achievement_id, #badgeos_nomination_achievement_id, #badgeos_submission_achievement_id").select2(o),e("#badgeos_achievements_list_include, #badgeos_achievements_list_exclude").select2(a),e("#badgeos_achievements_list_type").select2({ajax:{url:ajaxurl,type:"POST",data:function(e){return{q:e=e._type?key=e.term?e.term:"":e,action:"get-achievement-types"}},processResults:function(t){var n=t.data,o=[];return n&&e.each(n,function(e,t){o.push({id:t.name,text:t.label})}),{results:o}}},language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.post_type_placeholder,allowClear:!0,multiple:!0}),e("#badgeos_achievements_list_user_id").select2({ajax:{url:ajaxurl,type:"POST",data:function(e){return{q:e=e._type?key=e.term?e.term:"":e,action:"get-users"}},processResults:function(t){var n=t.data,o=[];return n&&e.each(n,function(e,t){o.push({id:t.ID,text:t.user_login})}),{results:o}}},language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.user_placeholder,allowClear:!0}),e("body").on("click","#insert_badgeos_shortcodes",function(t){var n;t.preventDefault(),n=e(this),setTimeout(function(){e("#TB_window").addClass("badgeos-shortcode-thickbox"),s(n)},0)}),e(window).resize(function(){s(e("#insert_badgeos_shortcodes"))})}(jQuery);